# Redis


Redis 的好处

* 速度快，因为数据存在内存中，类似哈希表查找，时间复杂度为O(1)
* 支持丰富的数据类型，支持：string，list，set，sorted set，hash
* 支持事务，操作都是原子性
* 设置Key的过期时间

淘汰策略，根据Key的过期时间，使用频次，保证热点数据存在Redis中

Redis需要对数据设置过期时间，并采用惰性删除+定期删除策略对过期键删除
在缓存的时候给过期时间加上一个随机值，减少缓存在同一时间过期

缓存穿透：查询一个一定不存在的数据，用于缓存不命中，并且处于容错考虑，如果从数据库查不到数据则不写入缓存，
这将导致这个不存在的数据每次请求都要用数据库查询，失去了缓存的意义。（查询ID为负数的情况）

布隆过滤器（BloomFilter）
将空值存入缓存，设置较短的过期时间

保持缓存与数据库一致性
先删除缓存，再更新数据库 （在高并发下表现不如意，在原子性被破坏时表现优异）
先更新数据库，再删除缓存（Cache Aside Pattern设计模式）（在高并发喜下表现优异，在原子性被破坏时表现不如意）
